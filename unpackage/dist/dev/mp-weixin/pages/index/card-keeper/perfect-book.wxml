<view class="booking-repayment"><view class="item"><view class="title">还款金额</view><input class="money" type="number" placeholder-style="input-placeholder" placeholder="请输入整数金额" data-event-opts="{{[['input',[['__set_model',['','money','$event',[]]],['checkedNum',['$event']]]]]}}" value="{{money}}" bindinput="__e"/><view class="iconfont icon-youjiantou"></view></view><view data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" class="item" bindtap="__e"><view class="title">还款日期</view><view class="data"><view class="text">{{timeText}}</view><view class="iconfont icon-youjiantou"></view></view></view><view class="item"><view class="title">还款笔数</view><view class="data"><number-box class="number" vue-id="1" min="{{min}}" max="{{max}}" value="{{number}}" input-disabled data-event-opts="{{[['^change',[['changeNum']]]]}}" bind:change="__e" bind:__l="__l"></number-box><view class="iconfont icon-youjiantou"></view></view></view><view data-event-opts="{{[['tap',[['showPicker',['$event']]]]]}}" class="item" bindtap="__e"><view class="title">选择城市</view><view class="data"><input class="text" placeholder="请选择省市区" placeholder-style="color:#ACACAB;font-size:30rpx" data-event-opts="{{[['input',[['__set_model',['','pickerText','$event',[]]]]]]}}" value="{{pickerText}}" bindinput="__e"/><view class="iconfont icon-youjiantou"></view></view></view><button data-event-opts="{{[['tap',[['submit',['$event']]]]]}}" class="btn" bindtap="__e">制定账单</button><view class="tips">温馨提示：每日交易时间为：9:00-21:00</view><block wx:if="{{planMess}}"><view><view class="total flex-class"><view>{{"执行计划需要"+planMess.maxmoney+"元"}}</view><button data-event-opts="{{[['tap',[['submit',['$event']]]]]}}" bindtap="__e">重置账单</button></view><view class="reset flex-class"><view class="left"><view class="top flex-class"><view>{{plandate}}</view><view>{{"共"+planMess.num+"笔"}}</view></view><view class="bottom flex-class"><view>{{"还款总金额:"+planMess.totalmoney+"元"}}</view><view>{{"手续费:"+planMess.fee+"元"}}</view></view></view></view></view></block><block wx:if="{{planDetail}}"><view class="plan-bill"><view class="plan-list"><block wx:for="{{$root.l1}}" wx:for-item="plan" wx:for-index="index" wx:key="index"><view class="plan-item"><view class="top flex-class"><view>{{"还款金额："+plan.$orig.totalAmount}}</view><view>手续费：<text>{{plan.$orig.fee}}</text></view></view><view class="list-title flex-class"><block wx:for="{{title}}" wx:for-item="val" wx:for-index="index" wx:key="index"><view>{{val}}</view></block></view><view class="list-item"><block wx:for="{{plan.l0}}" wx:for-item="detail" wx:for-index="index1" wx:key="index1"><view class="{{['item-detail flex-class',detail.$orig.type==2?'type-active':'']}}"><view class="type">{{detail.$orig.type==1?'消费':'还款'}}</view><view>{{detail.$orig.money}}</view><view>{{detail.$orig.fee}}</view><view>{{detail.g0}}</view></view></block></view></view></block></view><view class="fixed-btn"><button data-event-opts="{{[['tap',[['setPlan',['$event']]]]]}}" class="btn-plan" bindtap="__e">提交规划</button></view></view></block><block wx:if="{{showCode}}"><view class="mask-code"><view class="popup"><view class="title">请输入验证码</view><input type="number" placeholder="请输入验证码" data-event-opts="{{[['input',[['__set_model',['','code','$event',[]]]]]]}}" value="{{code}}" bindinput="__e"/><view class="op"><button data-event-opts="{{[['tap',[['e1',['$event']]]]]}}" bindtap="__e">取消</button><button disabled="{{codeDisable}}" loading="{{codeDisable}}" data-event-opts="{{[['tap',[['confirm',['$event']]]]]}}" bindtap="__e">确认</button></view></view></view></block><view hidden="{{!(show)}}" class="mask"><view class="popup"><view class="top"><view data-event-opts="{{[['tap',[['e2',['$event']]]]]}}" class="cancle" bindtap="__e">取消</view><view data-event-opts="{{[['tap',[['allChoose',['$event']]]]]}}" class="switch" bindtap="__e">全选/反选</view></view><view class="content"><view class="prev"><view class="month">{{month+"月"}}</view><view class="date"><block wx:for="{{prevDate}}" wx:for-item="item" wx:for-index="index" wx:key="index"><text class="{{[item.flag?item.checked?'date-checked':'':'gray']}}" data-day="{{item.value}}" data-year="{{year}}" data-month="{{month}}" data-event-opts="{{[['tap',[['switchDate',[index,'$0',0],[[['prevDate','',index,'flag']]]]]]]}}" bindtap="__e">{{item.value}}</text></block></view></view><block wx:if="{{list.data.length==2}}"><view class="next"><view class="month">{{(month==12?1:month+1)+"月"}}</view><view class="date"><block wx:for="{{nextDate}}" wx:for-item="item" wx:for-index="index" wx:key="index"><text class="{{[item.flag?item.checked?'date-checked':'':'gray']}}" data-day="{{item.value}}" data-year="{{month==12?year+1:year}}" data-month="{{month==12?1:month+1}}" data-event-opts="{{[['tap',[['switchDate',[index,'$0',1],[[['nextDate','',index,'flag']]]]]]]}}" bindtap="__e">{{item.value}}</text></block></view></view></block></view><view data-event-opts="{{[['tap',[['save',['$event']]]]]}}" class="confirm" bindtap="__e">确定</view></view></view><mpvue-picker class="vue-ref" vue-id="2" mode="multiLinkageSelector" deepLength="{{2}}" pickerValueDefault="{{pickerValueDefault}}" pickerValueArray="{{pickerValueArray}}" data-ref="mpvuePicker" data-event-opts="{{[['^onConfirm',[['onConfirm']]],['^onCancel',[['onCancel']]]]}}" bind:onConfirm="__e" bind:onCancel="__e" bind:__l="__l"></mpvue-picker><mpvue-city-picker class="vue-ref" vue-id="3" pickerValueDefault="{{cityPickerValueDefault}}" data-ref="mpvueCityPicker" data-event-opts="{{[['^onCancel',[['onCancel']]],['^onConfirm',[['onConfirm']]]]}}" bind:onCancel="__e" bind:onConfirm="__e" bind:__l="__l"></mpvue-city-picker></view>